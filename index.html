<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8">
    		<title>Redirect</title>
		<script src="https://telegram.org/js/telegram-web-app.js"></script>
		<script>
		(function() {
			let tg = window.Telegram.WebApp; //получаем объект webapp телеграма
			tg.expand(); //расширяем на все окно
	
			let theme = tg.colorScheme
			// site = "https://portal.rgust.ru/"
			let hash = "#switchSiteThemeMode" + theme.charAt(0).toUpperCase() + theme.slice(1)
			// location = site + hash
			// Получаем параметры из URL
			const params = new URLSearchParams(window.location.search);
			// Получаем значение параметра 's'
			const targetSite = params.get('s');
			// Проверяем, что параметр 's' не пустой и является корректным URL
			if (targetSite) {
				try location.href = decodeURIComponent(targetSite) + hash;
				catch (e) location.href = "https://portal.rgust.ru/" + hash;
				
			} else location.href = "https://portal.rgust.ru/" + hash;
			
		})();
		</script>
	</head>
	<body>
	</body>
</html>
